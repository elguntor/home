#
# Test cases for com.stokgrok.dataapi.dao.MySQLDAO
#
require_relative 'data_api_test_common'

java_import com.stokgrok.dataapi.conf.Configuration
java_import com.stokgrok.dataapi.dao.MySQLDAO

describe "MySQLDAO Tests" do

	before(:all) do
		`sudo /etc/init.d/mysql restart`
	end

	it "should not be null when built from the constructor" do
		configuration = DataApiGuiceModule.instance(Configuration.java_class)
		MySQLDAO.new(configuration).should_not be_nil
	end

	it "should not be null when injected" do
		DataApiGuiceModule.instance(MySQLDAO.java_class).should_not be_nil
	end

	it "should insert curve tweet data" do
		sg_dao = DataApiGuiceModule.instance(MySQLDAO.java_class)
		sg_dao.should_not be_nil
	end

	it "should insert curve tweet data" do
		sg_dao = DataApiGuiceModule.instance(MySQLDAO.java_class)
		sg_dao.should_not be_nil
	end
	it "should insert curve tweet data" do
		sg_dao = DataApiGuiceModule.instance(MySQLDAO.java_class)
		sg_dao.should_not be_nil
	end
end
